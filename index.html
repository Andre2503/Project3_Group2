<!DOCTYPE html>
<html>
<head>
    <title>ASX Stock Selector</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/luxon@2.1.1/build/global/luxon.min.js"></script>
    <link rel="stylesheet" type="text/css" href="./static/js/styles12.css">
</head>
<body>
    <div class="header">
        <h1>ASX Stock Selector</h1>
        <h3>An Interactive Method of Evaluating</h3>
    </div>

    <label for="industryGroup">Select Industry Group:</label>
    <select id="industryGroup" name="industryGroup">
        <!-- Options will be populated dynamically from JavaScript -->
    </select>

    <br>

    <label for="ticker">Select Ticker:</label>
    <select id="ticker" name="ticker">
        <!-- Options will be populated dynamically from JavaScript -->
    </select>

    <div class="Stock_Information_header">
        <h3>Stock Information</h3>
    </div>

    <div class="stock-information" id="stockInformation">
        
        <div class="columns-container">
            <h4>Basic Information</h4>
            <div class="column" id="column1"></div>  <!-- Last Price -->
            <div class="column" id="column2"></div>  <!-- Change -->
            <div class="column" id="column3"></div>  <!-- Volume Per Day -->
            <div class="column" id="column4"></div>  <!-- Volume 4Wk Avg -->
            <div class="column" id="column5"></div>  <!-- Open -->
            <div class="column" id="column6"></div>  <!-- Day Range -->
            <div class="column" id="column7"></div>  <!-- Previous Close -->
            <div class="column" id="column8"></div>  <!-- Last Trade -->
            <div class="column" id="column14"></div>  <!-- Market Cap -->
            <div class="column" id="column17"></div>  <!-- Shares Issued -->
            
        </div>

        <div class="columns-container">
            <h4>Performance</h4>
            <div class="column" id="column9"></div>  <!-- One Week -->
            <div class="column" id="column10"></div>  <!-- One Month -->
            <div class="column" id="column11"></div>  <!-- 2023 YTD -->
            <div class="column" id="column12"></div>  <!-- vs Sector (One Year) -->
            <div class="column" id="column13"></div>  <!-- vs ASX200 (One Year) -->
            <div class="column" id="column15"></div>  <!-- ASX Rank -->
            <div class="column" id="column16"></div>  <!-- Sector Rank -->
            <div class="column" id="column18"></div>  <!-- Sector -->
            <div class="column" id="column19"></div>  <!-- Similar Companies -->
            

        </div>

        <div class="columns-container">
            <h4>Metrics & Recommendation</h4>
            <!-- Third row of columns -->
            <div class="column" id="column20"></div>  <!-- EPS -->
            <div class="column" id="column21"></div>  <!-- DPS -->
            <div class="column" id="column22"></div>  <!-- Book Value PerShare -->
            <div class="column" id="column23"></div>  <!-- Breakdown -->
            <div class="column" id="column24"></div>  <!-- Recommendation -->
            <div class="column" id="column25"></div>  <!-- Last Updated -->
            <div class="column" id="column26"></div>  <!-- PE -->
            <!-- You can add more columns if needed -->
        </div>
    </div>

    <div class="container">
        <div class="left-content">
            <!-- Existing content goes here -->
        </div>
        <div class="right-content">
            <canvas id="tickerChart"></canvas>  <!-- Chart.js uses canvas instead of div -->
        </div>
    </div>

    <div class="bottom-charts">
        <div class="Stock_Information_header">
            <h4>Companies Comparison</h4>
        </div>
        <div id="marketCapChart" class="chart"></div>
        <div id="epsChart" class="chart"></div>
        <div id="dpsChart" class="chart"></div>
        <div id="peChart" class="chart"></div>
    </div>

    <!-- Include your JavaScript file containing the code -->
    <script src="./static/js/plot12.js"></script>

    <script>
        // Add an event listener to the Industry Group dropdown
        document.getElementById("industryGroup").addEventListener("change", () => {
            const selectedIndustryGroup = document.getElementById("industryGroup").value;
            populateTickerDropdown(selectedIndustryGroup);
            updateBarCharts(selectedIndustryGroup);
        });
    
        // Add an event listener to the "ticker" dropdown
        document.getElementById("ticker").addEventListener("change", function() {
            const selectedTicker = this.value;
            updateStockInfo(selectedTicker);
            updateTimeSeriesChart(selectedTicker);
            updateBarCharts(selectedIndustryGroup);
            
        });

    </script>
</body>
</html>